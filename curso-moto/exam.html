<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CICSA</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="css/font-awesome.css" />
    <link rel="stylesheet" href="css/index.css">
    <style>
    .card p {
        font-weight: 700;
    }
    </style>
</head>
<body>
    <div class="header">
        <div class="header__title">
            <span id="sl-title">Evaluación - Operación segura de motocicletas</span>
        </div>
    </div>
    <div class="container mb-5 mt-5">
            <form action="" id="exam-form">

                <div class="card mb-4">
                    <div class="card-body">
                        <p>1. ¿Cuál es la norma que reglamenta el Código Nacional de Tránsito Terrestre?</p>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q1" id="a1" value="a1">
                            <label class="form-check-label" for="a1" >
                                A.  Decreto 1079 de 2015
                            </label>
                            </div>
                            <div class="form-check">
                            <input class="form-check-input" type="radio" name="q1" id="a2" value="a2">
                            <label class="form-check-label" for="a2">
                                B. Ley 1801 de 2016
                            </label>
                            </div>
                            <div class="form-check">
                            <input class="form-check-input" type="radio" name="q1" id="a3" value="a3">
                            <label class="form-check-label" for="a3">
                                C. Decreto 431 de 2017
                            </label>
                            </div>
                            <div class="form-check">
                            <input class="form-check-input" type="radio" name="q1" id="a4" value="a4">
                            <label class="form-check-label" for="a4">
                                D. Ley 769 de 2002
                            </label>
                        </div>
                    </div>
                </div>



                <div class="card mb-4">
                    <div class="card-body">
                        <p>2. Indique el significado de la siguiente señal de tránsito:</p>
                        <img src="../curso-carro/assets/signal_1.png" alt="">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q2" id="a5" value="a5">
                            <label class="form-check-label" for="a5">
                                A. Trabajadores en la vía.
                            </label>
                            </div>
                            <div class="form-check">
                            <input class="form-check-input" type="radio" name="q2" id="a6" value="a6">
                            <label class="form-check-label" for="a6">
                                B. Inicio de obra.
                            </label>
                            </div>
                            <div class="form-check">
                            <input class="form-check-input" type="radio" name="q2" id="a7" value="a7">
                            <label class="form-check-label" for="a7">
                                C. Banderillero.
                            </label>
                            </div>
                            <div class="form-check">
                            <input class="form-check-input" type="radio" name="q2" id="a8" value="a8">
                            <label class="form-check-label" for="a8">
                                D. Auxiliar de tránsito.
                            </label>
                        </div>
                    </div>
                </div>

                <div class="card mb-4">
                    <div class="card-body">
                        <p>3. ¿Cuál es el labrado mínimo que deben tener las llantas de una motocicleta?</p>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q3" id="a9" value="a9">
                            <label class="form-check-label" for="a9">
                                A. 1.2 mm.
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q3" id="a10" value="a10">
                            <label class="form-check-label" for="a10">
                                B. 1 mm.
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q3" id="a11" value="a11">
                            <label class="form-check-label" for="a11">
                                C. 1.6 mm.
                            </label>
                            </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q3" id="a12" value="a12">
                            <label class="form-check-label" for="a12">
                                D. 1.5 mm.
                            </label>
                            </div>
                    </div>
                </div>

                <div class="card mb-4">
                    <div class="card-body">
                        <p>4. Las maniobras de zigzagueo solo están permitidas en los siguientes lugares:</p>
                        <img src="assets/signal_1.png" alt="">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q4" id="a13" value="a13">
                            <label class="form-check-label" for="a13">
                                A. Zonas urbanas.
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q4" id="a14" value="a14">
                            <label class="form-check-label" for="a14">
                                B. Zonas rurales.
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q4" id="a15" value="a15">
                            <label class="form-check-label" for="a15">
                                C. Zonas escolares.
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q4" id="a16" value="a16">
                            <label class="form-check-label" for="a16">
                                D. Ninguna de las anteriores.
                            </label>
                        </div>
                    </div>
                </div>


                <div class="card mb-4">
                    <div class="card-body">
                        <p>5. La Infracción: D.02. Conducir sin portar el Seguro Obligatorio de Accidentes de Tránsito ordenado por la ley. Además, el
                            vehículo será inmovilizado. Da lugar a la imposición de una sanción de:
                        </p>
                        <img src="assets/signal_1.png" alt="">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q5" id="a17" value="a17">
                            <label class="form-check-label" for="a17">
                                A. 8 SMDLV.
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q5" id="a18" value="a18">
                            <label class="form-check-label" for="a18">
                                B. 15 SMDLV.
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q5" id="a19" value="a19">
                            <label class="form-check-label" for="a19">
                                C. 30 SMDLV.
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q5" id="a20" value="a20">
                            <label class="form-check-label" for="a20">
                                D. Ninguna de las anteriores.
                            </label>
                        </div>
                    </div>
                </div>

                <div class="card mb-4">
                    <div class="card-body">
                        <p>6. La prenda reflectiva para motociclistas debe usarse entre las 18:00 y las 06:00 del día siguiente.</p>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q6" id="a21" value="a21">
                            <label class="form-check-label" for="a21">
                                Verdadero
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q3" id="a22" value="a22">
                            <label class="form-check-label" for="a22">
                                Falso
                            </label>
                        </div>
                    </div>
                </div>


                <div class="card mb-4">
                    <div class="card-body">
                        <p>7. Según la Resolución 23385 de 2020. En el caso de cascos con cubierta facial inferior movible, ésta puede ir abierta durante el
tránsito.</p>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q7" id="a23" value="a23">
                            <label class="form-check-label" for="a23">
                                Verdadero
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q7" id="a24" value="a24">
                            <label class="form-check-label" for="a24">
                                Falso
                            </label>
                        </div>
                    </div>
                </div>

                

                <div class="card mb-4">
                    <div class="card-body">
                        <p> 8. Según la Resolución 1080 de 2019. Los requisitos mínimos de la etiqueta para cascos son:<br>
                            <span style="font-weight: 400;">
                            Deberá incluirse en el casco una etiqueta que contenga la información que se describe a continuación:<br><br>

                                a) Nombre del producto: “Casco para uso en motocicleta y vehículos afines”.<br>
                            b) Talla.<br>
                            c) País de origen.<br>
                            d) Indicación del reglamento, estándar o norma técnica que cumple entre los señalados en este reglamento. Esta
                            información podrá venir en idioma inglés.<br>
                            e) Importador o fabricante, con su razón social.<br>
                            f) Número de lote y fecha de producción.<br>
                            </span>
                            </p>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q8" id="a25" value="a25">
                            <label class="form-check-label" for="a25">
                                Verdadero
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q8" id="a26" value="a26">
                            <label class="form-check-label" for="a26">
                                Falso
                            </label>
                            </div>
                    </div>
                </div>


                <div class="card mb-4">
                    <div class="card-body">
                        <p>9. La visera del casco es la pantalla protectora transparente que se extiende frente a los ojos.</p>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q9" id="a27" value="a27">
                            <label class="form-check-label" for="a27">
                                Verdadero
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q9" id="a28" value="a28">
                            <label class="form-check-label" for="a28">
                                Falso
                            </label>
                            </div>
                    </div>
                </div>

                <div class="card mb-4">
                    <div class="card-body">
                        <p>10. Según la Resolución 23385 de 2020. La cabeza del motociclista (conductor y/o acompañante) debe estar totalmente inmersa
                            en el casco y el sistema de retención debe estar asegurado por debajo de la mandíbula inferior, sin correas rotas, ni broches
                            partidos e incompletos</p>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q10" id="a29" value="a29">
                            <label class="form-check-label" for="a29">
                                Verdadero
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q10" id="a30" value="a30">
                            <label class="form-check-label" for="a30">
                                Falso
                            </label>
                            </div>
                    </div>
                </div>


                

              
                <button class="btn btn-primary">Enviar Evaluación</button>

                <div class="alert alert-danger mt-4 visually-hidden" role="alert" id="error-alert"></div>

            </form>
        </div>
    </div>

    <div class="modal" tabindex="-1" id="myModal">
        <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title"></h5>
            </div>
            <div class="modal-body">
            <p></p>
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-primary" id="modal-accept-btn">Aceptar</button>
            </div>
        </div>
        </div>
    </div>

</body>

<script src="js/app.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>



<script>

const exam = () => {

    const modal = new bootstrap.Modal('#myModal', {});

    const data = JSON.parse(localStorage.getItem('exam_2_completed')) || {};

    const MAX_ATTEMPTS = 3;

    if (data.maxAttempts && data.maxAttempts === true) {
        alert("Ya ha presentado el examen en la cantidad maxima de intentos permitidos");
        window.location.href = "index.html";
    }

    if (data.passedExam && data.passedExam === true) {
        alert("Ya ha presentado el examen anteriormente");
        window.location.href = "index.html";
    }

    const correctAnswers=[{value:"a2",score:10},{value:"a7",score:10},{value:"a10",score:10},{value:"a16",score:10},{value:"a19",score:10},{value:"a21",score:10},{value:"a24",score:10},{value:"a26",score:10},{value:"a27",score:10},{value:"a29",score:10}];


    const errorAlert = document.getElementById('error-alert');

    document.getElementById("exam-form").addEventListener('submit', (e) => {
        e.preventDefault();

        errorAlert.classList.add('visually-hidden');

        let result = 0;

        let form = $("#exam-form").serializeArray();

        console.log(form)
        if (form.length !== correctAnswers.length) {
            errorAlert.innerText = "Por favor responda todas las preguntas";
            errorAlert.classList.remove('visually-hidden');
            return;
        }

        for (let i = 0; i < correctAnswers.length; i++) {
            if (correctAnswers[i].value === form[i].value) {
                result+=correctAnswers[i].score;
            }
        }
        
        if (result >= 80) {
            localStorage.setItem('exam_2_completed', JSON.stringify({
                result: result,
                passedExam: true,
                maxAttempts: false
            }));
            loadModal({ title: "Felicitaciones!!", body: "Has pasado el examen tu calificacion es:", result: result});
        } else {
            const data = JSON.parse(localStorage.getItem('exam_2_completed')) || {};
            const numAttempts = data.attempts ? (data.attempts+1) : 1;
            localStorage.setItem('exam_2_completed', JSON.stringify({
                result: result,
                passedExam: false,
                attempts: numAttempts,
                maxAttempts: numAttempts >= MAX_ATTEMPTS
            }));
            loadModal({ title: "Lo sentimos!!", body: "NO has pasado el examen, intenta de nuevo. Tu calificacion es:", result: result});
        }
    });

    document.getElementById("modal-accept-btn").addEventListener("click", () => window.location.href = "index.html");

    function loadModal(data) {
        $('.modal-title').text(data.title);
        $('.modal-body').text(data.body +" "+ data.result);
        modal.show();
    }
}


exam();

</script>
</body>
</html>